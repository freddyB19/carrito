{% extends "base/base.html" %}

{% block title %} Nuevo Email {% endblock title %}

{% block content %}
	<div class="container">
		<div class="pricing-header p-3 pb-md-4 mx-auto text-center">
			<h1 class="display-5 text-center mt-4">Actualizar Email</h1>
			<p class="fs-5 text-body-secondary">
				(Actual: {{ request.user.email}})
			</p>
		</div>
		
		<form method="POST" class="col-sm-5 col-lg-6 mx-auto"> {% csrf_token %}
			{% if form.errors %}
				{% if form.non_field_errors%}
					<div class="alert alert-danger alert-dismissible fade show" role="alert">

				      	{% for error in form.non_field_errors %}
				      		{{error}}
				      	{% endfor %}
						
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				{% endif %}
	      		
			{% endif %}

			<div class="row g-3">
      			<div class="col-12">
      				<label for="new-email-input" class="form-label">Nuevo email</label>
      			</div>

      			{{form.new_email}}

      			{% if form.new_email.errors %}
					{% for error in  form.new_email.errors %}
						<div class="text-center">
  							<span class="badge bg-danger-subtle border border-danger-subtle text-danger-emphasis rounded-pill">{{error}}</span>
  						</div>
					{% endfor %}
				
				{% endif %}
    		</div>

     		<hr class="mb-5">

     		<h5 class="mb-3">
				<em>{{ form.email.help_text }}</em>
			</h5>

			<div class="row g-3">
	      		<div class="col-12">
	        		<label for="email-input" class="form-label">Email</label>

					{{ form.email }}

	      		</div>
	    	</div>

	    	<div class="row g-3">
	      		<div class="col-12">
	        		<label for="password-input" class="form-label">Password</label>

					{{ form.password }}

	      		</div>
	    	</div>
			
			<hr class="my-4">
		
			<button type="submit" class="w-100 btn btn-primary btn-lg">Guardar Cambios</button>
		</form>
	</div>
	

	
{% endblock content %}